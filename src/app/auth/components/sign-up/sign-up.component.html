<app-loading *ngIf="isLoading"></app-loading>
<!-- separate -->
<app-popup-message
  [popupMessage]="popupMessage"
  (closePopupMessage)="received($event)"
></app-popup-message>
<!-- separate -->
<section class="row">
  <div class="col-sm-12 col-md-9 col-lg-8 col-xl-6">
    <form [formGroup]="signupForm" (ngSubmit)="signup()">
      <fieldset>
        <legend>Sign Up</legend>
        <div class="form-group">
          <label class="form-label" for="fname">First name</label>
          <input
            class="form-control"
            type="text"
            id="fname"
            name="fname"
            formControlName="fName"
          />
          <span
            *ngIf="
              signupForm.get('fName').invalid && signupForm.get('fName').touched
            "
          >
            <span *ngIf="signupForm.get('fName').errors['required']">
              first name is required!
            </span>
            <span *ngIf="signupForm.get('fName').errors['minlength']">
              insert at least 3 chars
            </span>
          </span>
        </div>
        <div class="form-group">
          <label class="form-label" for="lname">Last name</label>
          <input
            class="form-control"
            type="text"
            id="lname"
            name="lname"
            formControlName="lName"
          />
          <span
            *ngIf="
              signupForm.get('lName').invalid && signupForm.get('lName').touched
            "
          >
            <span *ngIf="signupForm.get('lName').errors['required']">
              last name is required!
            </span>
            <span *ngIf="signupForm.get('lName').errors['minlength']">
              insert at least 3 chars
            </span>
          </span>
        </div>
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input
            class="form-control"
            type="text"
            id="email"
            name="email"
            formControlName="email"
          />
          <span
            *ngIf="
              signupForm.get('email').invalid && signupForm.get('email').touched
            "
          >
            <span *ngIf="signupForm.get('email').errors['required']">
              email is required!
            </span>
            <span *ngIf="signupForm.get('email').errors['email']">
              please insert a valid email!
            </span>
          </span>
        </div>
        <div class="form-group">
          <label class="form-label" for="pass">Password</label>
          <input
            class="form-control"
            type="password"
            id="pass"
            name="pass"
            formControlName="password"
            #password
          />
          <div class="m-1">
            <input type="checkbox" (click)="showPassword(password)" />show
            password
          </div>
          <span
            *ngIf="
              signupForm.get('password').invalid &&
              signupForm.get('password').touched
            "
          >
            <span *ngIf="signupForm.get('password').errors['required']">
              password is required!
            </span>
            <span *ngIf="signupForm.get('password').errors['pattern']">
              insert at least six chars contains: 1 upper char, 1 number & 1
              special char (!@#$%^&*)
            </span>
          </span>
        </div>
        <a class="have-account" [routerLink]="['/signin']">Have account?</a>
        <div class="actions">
          <button class="btn" type="button" (click)="resetForm()">
            Reset form
          </button>
          <button class="btn" type="submit" [disabled]="signupForm.invalid">
            Sign up
          </button>
        </div>
      </fieldset>
    </form>
  </div>
</section>
